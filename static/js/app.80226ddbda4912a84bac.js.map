{"version":3,"sources":["webpack:///src/components/ Backgammon.vue","webpack:///./src/components/ Backgammon.vue?0392","webpack:///./src/components/ Backgammon.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a29e","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["_Backgammon","name","data","url","chess","context","chessBoard","pos","me","over","wins","myWin","computerWin","count","history","stepHistory","step","mvBest","minmaxdepth","created","this","init","mounted","_this","myChess","document","getElementById","$refs","getContext","console","log","drawpieceBoard","addEventListener","e","length","x","offsetX","y","offsetY","i","Math","floor","j","oneStep","push","color","k","$message","showClose","message","type","computerAI","methods","copy","Move","generateMoves","mvs","makeMove","flag","undoMakeMove","evaluate","myScore","computerScore","AlphaBeta","depth","alpha","beta","mv","value","parseInt","maxSearch","vlBest","minSearch","max","u","v","three","thr","strokeStyle","logo","Image","src","onload","drawImage","moveTo","lineTo","stroke","beginPath","arc","PI","closePath","gradient","createRadialGradient","addColorStop","fillStyle","fill","components__Backgammon","render","_h","$createElement","_c","_self","staticClass","staticStyle","width","height","attrs","_v","ref","id","staticRenderFns","App","components","Backgammon","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","config","productionTip","use","ElementUI","el","template"],"mappings":"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","file":"static/js/app.80226ddbda4912a84bac.js","sourcesContent":["<template>\n  <div class=\"hello\" >\n     <el-container>\n      \n     <el-header>\n      \n       <div class=\"left\" >\n       <el-image\n      style=\"width: 600px; height: 110px\"\n      :src=\"url\"\n     >\n      </el-image> \n      </div>\n    </el-header>\n <el-container>\n   \n    <el-main>\n      <canvas id=\"mychess\" ref=\"chess\" width=\"450px\" height=\"450px\">\t\n    \t</canvas>\n    </el-main>\n     <el-aside width=\"200px\">\n \n    </el-aside>\n    </el-container>\n    </el-container>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Backgammon',\n  data () {\n    return {\n              \n               url:'/static/ziti.gif',\n               chess:  null,\n               context : null,\n               chessBoard : [],//当前棋盘\n               pos : [],//当前预测棋盘\n               me : true,\n               over : false,\n               wins : [],\n               myWin : [],\n               computerWin : [],\n               count : 0,//多少种解法\n               history: [], //历史记录位置\n               stepHistory: 0,\n               step: 0, //记录当前步数\n               mvBest:0,\n               minmaxdepth:2,\n    }\n  },\n  created:function(){\n    this.init();\n  },\n  mounted:function(){\n          \n          const myChess = document.getElementById(\"mychess\");\n          this.chess = this.$refs.chess;\n          \n          this.context = this.chess.getContext('2d');\n\t\t\t\t\tif (!myChess.getContext('2d')) {\n\t\t\t\t\t\t this.$message({\n                message: '警告哦，当前浏览器不支持Canvas',\n                type: 'warning'\n              });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"当前浏览器支持Canvas\");\n\t\t\t\t\t\tthis.drawpieceBoard();\n\t\t\t\t\t\tconst chess = this.$refs.chess;\n\t\t\t\t\t\t// 添加点击监听事件 \n\t\t\t\t\t\tchess.addEventListener(\"click\", e => {\n\t\t\t\t\t\t\t    this.step++;\n                  this.history.length = this.step;\n\t\t\t\t\t        if(this.over){\n                    return;\n                  }\n                  if(!this.me){\n                    return;\n                  }\n                  var x = e.offsetX;\n                  var y = e.offsetY;\n                  var i = Math.floor(x / 30); //Math.floor向下取整\n                  var j = Math.floor(y / 30);\n                  if(this.chessBoard[i][j] == 0){\n                    this.oneStep(i, j, this.me);\t\t\n                    this.history.push({\n                        i,\n                        j,\n                        color: \"black\"\n                      });\n                    this.chessBoard[i][j] = 1;\n                    \n                    for(var k = 0; k < this.count; k++){\n                      if(this.wins[i][j][k]){\n                        this.myWin[k]++;\n                        //this.computerWin[k] = 6;\n                        if(this.myWin[k] == 5){\n                          this.$message({\n                            showClose: true,\n                            message: '你可真聪明，你赢啦～',\n                            type: 'success'\n                          });\n                          this.over = true;\n                        }\n                      }\n                    }\n                    if(!this.over){\n                      this.me = !this.me;\n                      this.computerAI();\n                    }\n                  }\n\t\t\t\t\t\t\n\t\t\t\t\t\t});\n          }\n  },\n   methods: {\n     //this.pos <- this.chessBoard\n     copy:function(){\n       for(var i=0; i<15; i++){    \n            for(var j=0; j<15; j++){\n                this.pos[i][j] = this.chessBoard[i][j];\n            }\n        }\n     },\n     //二维棋盘转一维\n     Move:function(x,y){\n        return y + (x << 4);\n     },\n     //当前可以走的所有情况\n     generateMoves:function(){\n       var mvs = [];\t\n       for(var i=0; i<15; i++){    \n            for(var j=0; j<15; j++){\n                if(this.pos[i][j] == 0){\n                   mvs.push(this.Move(i, j));\t\n                }\n            }\n        }\n        return mvs;\n     },\n     makeMove:function(x,y,flag){\n       //根据当前预测棋局和坐标（x,y）绘制下一个预测棋局\n       //flag:是人下的为true，AI为false\n          if(flag){\n            this.pos[x][y] = 1;\n          }else{\n            this.pos[x][y] = 2;\n          }\n     },\n     undoMakeMove:function(x,y){\n       //根据坐标（x,y）撤销到上一个棋局\n        this.pos[x][y] = 0;\n     },\n     //棋盘评估，this.pos\n     evaluate:function(){\n            var myWin = [];\n            var computerWin = [];\n            var myScore = 0;\n            var computerScore = 0;\n            for(var i = 0; i < this.count; i++){\n              myWin[i] = 0;\n              computerWin[i] = 0;\n            }\n            for(var i = 0; i < 15; i++){\n              for(var j = 0; j < 15; j++){\n                if(this.pos[i][j] != 0){\n                  for(var k = 0; k < this.count; k++){\n                      if(this.wins[i][j][k]){\n                        if(this.pos[i][j] == 1){\n                          myWin[k]++;\n                        }else{\n                          computerWin[k]++;\n                        }\n                      }\n                \n                  }\n               }\n              }\n            }\n            for(var k = 0; k < this.count; k++){\n                if(computerWin[k] == 0){\n                  if(myWin[k] == 1){\n                  myScore += 200;\n                }\n                else if(myWin[k] == 2){\n                  myScore += 400;\n                }\n                else if(myWin[k] == 3){\n                  myScore += 2000;\n                }\n                else if(myWin[k] == 4){\n                  myScore += 10000;\n                }\n\n                }\n                if(myWin[k] == 0){\n                  if(computerWin[k] == 1){\n                  computerScore += 220;\n                }\n                else if(computerWin[k] == 2){\n                  computerScore += 420;\n                }\n                else if(computerWin[k] == 3){\n                  computerScore += 2100;\n                }\n                else if(computerWin[k] == 4){\n                  computerScore += 20000;\n                }\n                }                 \n              \n        }\n        return computerScore - myScore;\n     },\n     //AlphaBeta搜索\n     AlphaBeta:function(depth,alpha,beta){\n       if (depth == 0) {\n         return this.evaluate();;\n      }\n      \n      var mvs = this.generateMoves();\t// 生成当前局面的所有走法\n      var mv = 0;\n      var value = 0;\n      var mvBest = 0;\n      var flag = false;\n      for (var i = 0; i < mvs.length; i ++) {\n        mv = mvs[i];\n        var x = parseInt(mv/16);\n        var y = mv % 16;\n        // 执行mv走法\n        this.makeMove(x,y,flag);\n        //console.log(\"max:x,y:\"+x+\",\"+y);\n        \n        value = -this.AlphaBeta(depth - 1,-beta,-alpha);\n        \n        // 撤销mv走法\n        this.undoMakeMove(x,y);\n        if (value >= beta) {\n    　　　return beta;\n    　　 }\n        // 寻找最大估值\n        if (value > alpha) {\n          // 找到了当前的最佳值\t  \n          alpha = value;\n          if (depth == this.minmaxdepth) {\n                this.mvBest = mv;\n                mvBest =mv;\n          }\n        }\t\n        }\n        //console.log(\"alpha:\"+depth+\";vlBest:\"+alpha+\";mv:\"+mvBest);\n        return alpha;\t// 返回当前节点的最优值\n     },\n     //极大点搜索\n     maxSearch:function(depth){//如果depth等于0，调用评估函数并返回分值\n      if (depth == 0) {\n        var val = this.evaluate();\n       // console.log(\"max:\"+depth+\";val:\"+val);\n        return val;\n      }\n      \n      var vlBest = -100000;\t\t\t\t// 初始最优值为负无穷\n      var mvs = this.generateMoves();\t// 生成当前局面的所有走法\n      var mv = 0;\n      var value = 0;\n      var mvBest = 0;\n      for (var i = 0; i < mvs.length; i ++) {\n        mv = mvs[i];\n        var x = parseInt(mv/16);\n        var y = mv % 16;\n        // 执行mv走法\n        this.makeMove(x,y,false);\n        //console.log(\"max:x,y:\"+x+\",\"+y);\n        // 调用极小点搜索算法，搜索深度为depth - 1\n        value = this.minSearch(depth - 1);\n        \n        // 撤销mv走法\n        this.undoMakeMove(x,y);\n        \n        // 寻找最大估值\n        if (value > vlBest) {\n          // 找到了当前的最佳值\t  \n          vlBest = value;\n          if (depth == this.minmaxdepth) {\n                this.mvBest = mv;\n                mvBest =mv;\n          }\n        }\t\n        }\n        //console.log(\"max:\"+depth+\";vlBest:\"+vlBest+\";mv:\"+mvBest);\n        return vlBest;\t// 返回当前节点的最优值\n    },\n    //极小点搜索\n    minSearch:function(depth){\n        if (depth == 0) {\n           //console.log(\"min:\"+depth);\n            return this.evaluate();\n          }\n          \n          var vlBest = 100000;\t\t\t\t// 初始最优值为正无穷，这里与极大点搜索不同\n          var mvs = this.generateMoves();\n          var mv = 0;\n          var value = 0;\n          var mvBest = 0;\n          for (var i = 0; i < mvs.length; i ++) {\n            mv = mvs[i];\n            var x = parseInt(mv/16);\n            var y = mv % 16;\n            this.makeMove(x,y,true);\n           // console.log(\"max:x,y:\"+x+\",\"+y);\n            value = this.maxSearch(depth - 1);\t// 这里与极大点搜索不同\n            this.undoMakeMove(x,y);\n            \n            if (value < vlBest) {\t\t\t\t// 这里与极大点搜索不同\n              vlBest = value;\n              if (depth == this.minmaxdepth) {\n                this.mvBest = mv;\n                mvBest =mv;\n              }\n            }\n            }\n               //console.log(\"min:\"+depth+\";vlBest:\"+vlBest+\";mv:\"+mvBest);\n            return vlBest;\t// 返回当前节点的最优值\n    },\n     init:function(){\n        \n        for(var i=0; i<15; i++){\n                    this.pos[i] = [];\n                    for(var j=0; j<15; j++){\n                      this.pos[i][j] = 0;\n                    }\n            }\n\n        for(var i=0; i<15; i++){\n                    this.chessBoard[i] = [];\n                    for(var j=0; j<15; j++){\n                      this.chessBoard[i][j] = 0;\n                    }\n            }\n\n            for(var i=0; i<15; i++){\n                  this.wins[i] = [];\n                  for(var j=0; j<15; j++){\n                    this.wins[i][j] = [];\n                  }\n            }\n            //横线\n            for(var i = 0; i < 15; i++){\n              for(var j= 0; j < 11; j++){\n                for(var k = 0; k < 5; k++){\n                  this.wins[i][j+k][this.count] = true;\n                }\n                this.count++;\n              }\n            }\n            //竖线\n            for(var i = 0; i < 15; i++){\n              for(var j= 0; j < 11; j++){\n                for(var k = 0; k < 5; k++){\n                  this.wins[j+k][i][this.count] = true;\n                }\n                this.count++;\n              }\n            }\n            //斜线\n            for(var i = 0; i < 11; i++){\n              for(var j= 0; j < 11; j++){\n                for(var k = 0; k < 5; k++){\n                  this.wins[i+k][j+k][this.count] = true;\n                }\n                this.count++;\n              }\n            }\n            //反斜线\n            for(var i = 0; i < 11; i++){\n              for(var j= 14; j > 3; j--){\n                for(var k = 0; k < 5; k++){\n                  this.wins[i+k][j-k][this.count] = true;\n                }\n                this.count++;\n              }\n            }\n            console.log(this.count);\n\n            for(var i = 0; i < this.count; i++){\n              this.myWin[i] = 0;\n              this.computerWin[i] = 0;\n            }\n     },\n     //AI下棋\n     computerAI:function(){\n              this.step++;\n              this.history.length = this.step;\n              var myScore = [];\n                var computerScore = [];\n                var max = 0;\n                var u = 0, v = 0;\n                for(var i = 0; i < 15; i++){\n                  myScore[i] = [];\n                  computerScore[i] = [];\n                  for(var j = 0; j < 15; j++){\n                    myScore[i][j] = 0;\n                    computerScore[i][j] = 0;\n                  }\n                }\n                for(var i = 0; i < 15; i++){\n                  for(var j = 0; j < 15; j++){\n                    if(this.chessBoard[i][j] == 0){\n                      var three = 0;\n                      var thr = 0;\n                      for(var k = 0; k < this.count; k++){\n                        if(this.wins[i][j][k]){\n                          if(this.computerWin[k] == 0){\n                            if(this.myWin[k] == 1){\n                            myScore[i][j] += 200;\n                          }\n                          else if(this.myWin[k] == 2){\n                            myScore[i][j] += 500;\n                          }\n                          else if(this.myWin[k] == 3){\n                            myScore[i][j] += 900;\n                            thr++;\n                          }\n                          else if(this.myWin[k] == 4){\n                            myScore[i][j] += 20000;\n                          }\n\n                          }\n                          if(this.myWin[k] == 0){\n                            if(this.computerWin[k] == 1){\n                            computerScore[i][j] += 210;\n                          }\n                          else if(this.computerWin[k] == 2){\n                            computerScore[i][j] += 520;\n                          }\n                          else if(this.computerWin[k] == 3){\n                            computerScore[i][j] += 930;\n                            three++;\n                          }\n                          else if(this.computerWin[k] == 4){\n                            computerScore[i][j] += 22000;\n                          }\n                          }\n                          if(this.myWin[k] == 3 && this.computerWin[k] == 1)\n                            myScore[i][j] -= 800;\n                        }\n                      }\n                      if(three >= 2)\n                        computerScore[i][j] += 5000;\n                      if(thr >= 2)\n                        myScore[i][j]+=4000;\n                     // console.log(i+\",\"+j+\":\"+\"myscore:\"+myScore[i][j]);\n                     // console.log(i+\",\"+j+\":\"+\"computerscore:\"+computerScore[i][j]);\n                      if(myScore[i][j] > max){\n                        max = myScore[i][j];\n                        u = i;\n                        v = j;\t\t\t\t\t\n                      }\n                      else if(myScore[i][j] == max){\n                        if(computerScore[i][j] > computerScore[u][v]){\n                          u = i;\n                          v = j;\t\t\t\t\t\t\n                        }\n                      }\n\n                      if(computerScore[i][j] > max){\n                        max = computerScore[i][j];\n                        u = i;\n                        v = j;\t\t\t\t\t\n                      }\n                      else if(computerScore[i][j] == max){\n                        if(myScore[i][j] > myScore[u][v]){\n                          u = i;\n                          v = j;\t\t\t\t\t\t\n                        }\n                      }\n\n                    }\n                  }\n                }\n                //若当前棋局不存在活三、冲四等必须要走的棋，则采用极大极小搜索\n                //当前最大值过小，则不存在活二和棉三结合的特殊情况，故也不需要极大极小搜索\n                if(max < 4000 && max > 3000){\n                  this.copy();//当前棋局进行复制\n                  //极大极小搜索\n                  //this.maxSearch(this.minmaxdepth);\n                  this.AlphaBeta(this.minmaxdepth,-1000000,1000000);\n                  u = parseInt(this.mvBest/16);\n                  v = this.mvBest % 16;\n                }\n                this.oneStep(u, v, false);\n                this.history.push({\n\t\t\t\t\t\t\t\t\tu,\n\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\tcolor: \"white\"\n\t\t\t\t\t\t\t\t});\n                this.chessBoard[u][v] = 2;\n\n                for(var k = 0; k < this.count; k++){\n                  if(this.wins[u][v][k] ){\n                    this.computerWin[k]++;\n                    //this.myWin[k] = 6;\n                    if(this.computerWin[k] == 5){\n                      \n                      this.$message({\n                        message: '再接再厉，AI获胜',\n                        showClose: true\n                      });\n                      this.over = true;\n                    }\n                  }\n                }\n                if(!this.over){\n                  this.me = !this.me;\n                }\n     },\n     //画棋盘\n    drawpieceBoard:function(){\n                   let context = this.context;\n                    context.strokeStyle = \"#000\";\n                    var logo = new Image();\n                    logo.src = \"/static/logo.jpg\";\n                    logo.onload = function(){\n                      context.drawImage(logo, 0, 0, 450, 450);\t\n                      for(var i=0; i<15; i++){\n                        context.moveTo(15 + i*30, 15);\n                        context.lineTo(15 + i*30, 435);\n                        context.stroke();\n                        context.moveTo(15,15 + i*30);\n                        context.lineTo(435,15 + i*30);\n                        context.stroke();\n                      }\n                    }\n\n    },\n                //落子\n    oneStep:function(i,j,me){//i,j分别是在棋盘中的定位，me代表白棋还是黑棋\n                    let context = this.context;\n                    context.beginPath();\n                    context.arc(15 + i*30, 15 + j*30, 13, 0, 2 * Math.PI);\n                    context.closePath();\n                    var gradient = context.createRadialGradient(15 + i*30 + 2, 15 + j*30 - 2, 13, 15 + i*30 + 2, 15 + j*30 - 2, 0);\n                    if(me){\n                      gradient.addColorStop(0, \"#0A0A0A\");\n                      gradient.addColorStop(1, \"#636766\");\n                    }\n                    else{\n                      gradient.addColorStop(0, \"#D1D1D1\");\n                      gradient.addColorStop(1, \"#F9F9F9\");\n                    }\t\n                    context.fillStyle = gradient;\n                    context.fill();\n                }\n   }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n\ncanvas{\n\tdisplay: block;\n\tmargin: 50px auto;\n\tbox-shadow: -2px -2px 2px #EFEFEF, 5px 5px 5px #B9B9B9;\n\tcolor: #fff;\n}\n.left{\n\n  display: inline-block;\n  vertical-align: middle;\n  \n}\n.left img{\n  width: 40%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ Backgammon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"left\"},[_c('el-image',{staticStyle:{\"width\":\"600px\",\"height\":\"110px\"},attrs:{\"src\":_vm.url}})],1)]),_vm._v(\" \"),_c('el-container',[_c('el-main',[_c('canvas',{ref:\"chess\",attrs:{\"id\":\"mychess\",\"width\":\"450px\",\"height\":\"450px\"}})]),_vm._v(\" \"),_c('el-aside',{attrs:{\"width\":\"200px\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33aa83d7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ Backgammon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33aa83d7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ Backgammon.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ Backgammon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ Backgammon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33aa83d7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ Backgammon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ Backgammon.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\" >\n    <el-container>\n    <el-header>\n  \n    </el-header>\n    <el-main>\n      \n         <Backgammon/>\n    </el-main>\n\n  </el-container>\n  </div>\n</template>\n\n<script>\nimport Backgammon from './components/ Backgammon'\n\nexport default {\n  name: 'App',\n  components: {\n    Backgammon\n  },\n  data(){\n    return{\n  \n    }\n  }\n \n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  margin-top: 0px;\n  background:url(\"../static/cheng.jpg\");\n  width:100%;\t\t\n  height:100%;\t\t\n  position:fixed;\n  background-size:100% 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-container',[_c('el-header'),_vm._v(\" \"),_c('el-main',[_c('Backgammon')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-379e4549\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-379e4549\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-379e4549\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css'\nVue.config.productionTip = false\nVue.use(ElementUI);\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}