webpackJsonp([1],{"2d2o":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),i={name:"Backgammon",data:function(){return{url:"https://ineedsheep.github.io/backgammon/static/ziti.gif",chess:null,context:null,chessBoard:[],me:!0,over:!1,wins:[],myWin:[],computerWin:[],count:0,history:[],stepHistory:0,step:0}},created:function(){this.init()},mounted:function(){var t=this,e=document.getElementById("mychess");(this.chess=this.$refs.chess,this.context=this.chess.getContext("2d"),e.getContext("2d"))?(console.log("当前浏览器支持Canvas"),this.drawpieceBoard(),this.$refs.chess.addEventListener("click",function(e){if(t.step++,t.history.length=t.step,!t.over&&t.me){var s=e.offsetX,o=e.offsetY,i=Math.floor(s/30),n=Math.floor(o/30);if(0==t.chessBoard[i][n]){t.oneStep(i,n,t.me),t.history.push({i:i,j:n,color:"black"}),t.chessBoard[i][n]=1;for(var r=0;r<t.count;r++)t.wins[i][n][r]&&(t.myWin[r]++,5==t.myWin[r]&&(t.$message({showClose:!0,message:"你可真聪明，你赢啦～",type:"success"}),t.over=!0));t.over||(t.me=!t.me,t.computerAI())}}})):this.$message({message:"警告哦，当前浏览器不支持Canvas",type:"warning"})},methods:{init:function(){for(var t=0;t<15;t++){this.chessBoard[t]=[];for(var e=0;e<15;e++)this.chessBoard[t][e]=0}for(t=0;t<15;t++){this.wins[t]=[];for(e=0;e<15;e++)this.wins[t][e]=[]}for(t=0;t<15;t++)for(e=0;e<11;e++){for(var s=0;s<5;s++)this.wins[t][e+s][this.count]=!0;this.count++}for(t=0;t<15;t++)for(e=0;e<11;e++){for(s=0;s<5;s++)this.wins[e+s][t][this.count]=!0;this.count++}for(t=0;t<11;t++)for(e=0;e<11;e++){for(s=0;s<5;s++)this.wins[t+s][e+s][this.count]=!0;this.count++}for(t=0;t<11;t++)for(e=14;e>3;e--){for(s=0;s<5;s++)this.wins[t+s][e-s][this.count]=!0;this.count++}console.log(this.count);for(t=0;t<this.count;t++)this.myWin[t]=0,this.computerWin[t]=0},computerAI:function(){this.step++,this.history.length=this.step;for(var t=[],e=[],s=0,o=0,i=0,n=0;n<15;n++){t[n]=[],e[n]=[];for(var r=0;r<15;r++)t[n][r]=0,e[n][r]=0}for(n=0;n<15;n++)for(r=0;r<15;r++)if(0==this.chessBoard[n][r]){for(var h=0,c=0;c<this.count;c++)this.wins[n][r][c]&&(0==this.computerWin[c]&&(1==this.myWin[c]?t[n][r]+=200:2==this.myWin[c]?t[n][r]+=500:3==this.myWin[c]?t[n][r]+=900:4==this.myWin[c]&&(t[n][r]+=2600)),0==this.myWin[c]&&(1==this.computerWin[c]?e[n][r]+=210:2==this.computerWin[c]?e[n][r]+=520:3==this.computerWin[c]?(e[n][r]+=930,h++):4==this.computerWin[c]&&(e[n][r]+=5e3)),3==this.myWin[c]&&1==this.computerWin[c]&&(t[n][r]-=800));h>=2&&(e[n][r]+=500),console.log(n+","+r+":myscore:"+t[n][r]),console.log(n+","+r+":computerscore:"+e[n][r]),t[n][r]>s?(s=t[n][r],o=n,i=r):t[n][r]==s&&e[n][r]>e[o][i]&&(o=n,i=r),e[n][r]>s?(s=e[n][r],o=n,i=r):e[n][r]==s&&t[n][r]>t[o][i]&&(o=n,i=r)}this.oneStep(o,i,!1),this.history.push({u:o,v:i,color:"white"}),this.chessBoard[o][i]=2;for(c=0;c<this.count;c++)this.wins[o][i][c]&&(this.computerWin[c]++,5==this.computerWin[c]&&(this.$message({message:"再接再厉，AI获胜",showClose:!0}),this.over=!0));this.over||(this.me=!this.me)},drawpieceBoard:function(){var t=this.context;t.strokeStyle="#000";var e=new Image;e.src="https://ineedsheep.github.io/backgammon/static/logo.jpg",e.onload=function(){t.drawImage(e,0,0,450,450);for(var s=0;s<15;s++)t.moveTo(15+30*s,15),t.lineTo(15+30*s,435),t.stroke(),t.moveTo(15,15+30*s),t.lineTo(435,15+30*s),t.stroke()}},oneStep:function(t,e,s){var o=this.context;o.beginPath(),o.arc(15+30*t,15+30*e,13,0,2*Math.PI),o.closePath();var i=o.createRadialGradient(15+30*t+2,15+30*e-2,13,15+30*t+2,15+30*e-2,0);s?(i.addColorStop(0,"#0A0A0A"),i.addColorStop(1,"#636766")):(i.addColorStop(0,"#D1D1D1"),i.addColorStop(1,"#F9F9F9")),o.fillStyle=i,o.fill()}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("el-container",[e("el-header",[e("div",{staticClass:"left"},[e("el-image",{staticStyle:{width:"600px",height:"110px"},attrs:{src:this.url}})],1)]),this._v(" "),e("el-container",[e("el-main",[e("canvas",{ref:"chess",attrs:{id:"mychess",width:"450px",height:"450px"}})]),this._v(" "),e("el-aside",{attrs:{width:"200px"}})],1)],1)],1)},staticRenderFns:[]};var r={name:"App",components:{Backgammon:s("VU/8")(i,n,!1,function(t){s("2d2o")},null,null).exports},data:function(){return{}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("el-container",[e("el-header"),this._v(" "),e("el-main",[e("Backgammon")],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(r,h,!1,function(t){s("eHlr")},null,null).exports,a=s("zL8q"),l=s.n(a);s("tvR6");o.default.config.productionTip=!1,o.default.use(l.a),new o.default({el:"#app",components:{App:c},template:"<App/>"})},eHlr:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.88c40627e30665c7e60a.js.map